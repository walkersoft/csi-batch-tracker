<Window x:Class="CSI.BatchTracker.Views.BatchHistoryWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:input="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:local="clr-namespace:CSI.BatchTracker.Views"
        mc:Ignorable="d"
        Title="Batch History" SizeToContent="WidthAndHeight" ResizeMode="NoResize">
    <StackPanel Orientation="Vertical" Margin="10">
        <WrapPanel Orientation="Horizontal">
            <Label Content="Enter a batch number:" Margin="0,0,5,0" FontWeight="Bold"/>
            <TextBox Width="150" Margin="0,0,5,0" VerticalContentAlignment="Center"
                     Text="{Binding BatchNumber, UpdateSourceTrigger=PropertyChanged}">
                <TextBox.InputBindings>
                    <KeyBinding Key="Return" Command="{Binding RetrieveBatchDataHistoryCommand}"/>
                </TextBox.InputBindings>
            </TextBox>
            <Button Width="100" Content="Show History"
                    Command="{Binding RetrieveBatchDataHistoryCommand}"/>
        </WrapPanel>
        <Separator Margin="0,5,0,5"/>
        <WrapPanel Orientation="Horizontal" Margin="0,0,0,5">
            <Label Content="Showing data for batch:"/>
            <Label Content="{Binding RetrievedBatchNumber}" FontWeight="Bold" Width="150"/>
            <Label Content="Currently in inventory:"/>
            <Label Content="{Binding AmountInInventory}" FontWeight="Bold"/>
        </WrapPanel>
        <StackPanel>
            <Label Content="Receiving History" FontWeight="Bold"/>
            <DataGrid CanUserAddRows="False"
                      CanUserReorderColumns="False"
                      CanUserDeleteRows="False"
                      CanUserSortColumns="False"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      Height="120"
                      VerticalScrollBarVisibility="Visible"
                      ItemsSource="{Binding ReceivingHistoryGrid}">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Color Name" Width="100" Binding="{Binding ColorName}"/>
                    <DataGridTextColumn Header="Batch Number" Width="120" Binding="{Binding BatchNumber}"/>
                    <DataGridTextColumn Header="Receiving Date" Width="120" Binding="{Binding ActivityDate}"/>
                    <DataGridTextColumn Header="Qty." Width="40" Binding="{Binding Quantity}"/>
                    <DataGridTextColumn Header="PO Number" Width="80" Binding="{Binding PONumber}"/>
                    <DataGridTextColumn Header="Operator" Width="150" Binding="{Binding ReceivingOperator.FullName}"/>
                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
        <StackPanel>
            <Label Content="Implementation History" FontWeight="Bold"/>
            <DataGrid CanUserAddRows="False"
                      CanUserReorderColumns="False"
                      CanUserDeleteRows="False"
                      CanUserSortColumns="False"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      MinHeight="180"
                      VerticalAlignment="Stretch"
                      VerticalScrollBarVisibility="Visible"
                      ItemsSource="{Binding ImplementationHistoryGrid}">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Color Name" Width="100" Binding="{Binding ColorName}"/>
                    <DataGridTextColumn Header="Batch Number" Width="120" Binding="{Binding BatchNumber}"/>
                    <DataGridTextColumn Header="Implementation Date" Width="140" Binding="{Binding ActivityDate}"/>
                    <DataGridTextColumn Header="Operator" Width="150" Binding="{Binding ImplementingOperator.FullName}"/>
                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
    </StackPanel>
</Window>
